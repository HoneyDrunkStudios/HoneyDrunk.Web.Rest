name: PR Validation

on:
  pull_request:
    branches: [ main, develop ]
    paths:
      - '**/*.cs'
      - '**/*.csproj'
      - '**/*.sln'
      - '**/*.slnx'
      - '**/*.props'
      - '**/*.targets'
      - '**/.editorconfig'
      - '**/stylecop.json'

permissions:
  contents: read
  checks: write
  pull-requests: write

jobs:
  pr-validation:
    uses: HoneyDrunkStudios/HoneyDrunk.Actions/.github/workflows/pr-core.yml@main
    with:
      dotnet-version: '10.0.x'
      configuration: 'Release'
      runs-on: 'ubuntu-latest'
      working-directory: 'HoneyDrunk.Web.Rest'
      # Optional: target a specific solution or project
      # project-path: './HoneyDrunk.Web.Rest.sln'
      enable-secret-scan: true
      enable-accessibility-check: false
      post-pr-summary: true
      actions-ref: 'main'
    secrets:
      github-token: ${{ secrets.GITHUB_TOKEN }}